#!/bin/bash

# ============================================================================
# Stripe Payment Test Script
# ============================================================================
# ×¡×§×¨×™×¤×˜ ×œ×‘×“×™×§×” ××”×™×¨×” ×©×œ ××¢×¨×›×ª ×”×ª×©×œ×•××™×
# ============================================================================

export STRIPE_API_KEY=sk_test_51SKnxn9mCMmqa2BSfBCnAlJx0gugq1YaeD2o8ofVBNKbZtxmHoP2mIMJrfoTKIbG3dZUWloVwKZWJfF6PzeptJwF0089UdDLZ3

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘   ğŸ§ª Stripe Payment System - Quick Test             â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# ============================================================================
# 1. ×‘×“×•×§ Products
# ============================================================================
echo "ğŸ“¦ ×‘×•×“×§ Products..."
echo ""

stripe products list --limit 3

echo ""
echo "---"
echo ""

# ============================================================================
# 2. ×‘×“×•×§ Prices
# ============================================================================
echo "ğŸ’° ×‘×•×“×§ Prices..."
echo ""

stripe prices list --limit 3

echo ""
echo "---"
echo ""

# ============================================================================
# 3. ×‘×“×•×§ Webhooks
# ============================================================================
echo "ğŸ”— ×‘×•×“×§ Webhooks..."
echo ""

stripe webhook_endpoints list

echo ""
echo "---"
echo ""

# ============================================================================
# 4. ×©×œ×— Test Webhook
# ============================================================================
echo "ğŸ§ª ×©×•×œ×— test webhook..."
echo ""

stripe trigger checkout.session.completed

echo ""
echo "---"
echo ""

# ============================================================================
# Summary
# ============================================================================
echo "âœ… ×‘×“×™×§×” ×”×•×©×œ××”!"
echo ""
echo "ğŸ“‹ ×¡×™×›×•× Price IDs ×©×œ×š:"
echo "   Basic:    price_1SL0uz9mCMmqa2BSombHKoR7"
echo "   Standard: price_1SL0vF9mCMmqa2BSSDnNUCym"
echo "   Premium:  price_1SL0vU9mCMmqa2BSBedO3lAr"
echo ""
echo "ğŸ”— Webhook URL:"
echo "   https://mabekpsigcgnszmudxjt.supabase.co/functions/v1/stripe-webhook"
echo ""
echo "ğŸ“š ×œ×‘×“×™×§×•×ª ××§×™×¤×•×ª, ×§×¨×:"
echo "   STRIPE_TESTING_GUIDE.md"
echo ""





